#!/bin/bash

# Checkout to the branch you want to modify
git checkout MennaEdit

# Filter the branch and modify the dates
git filter-branch --env-filter '
OLD_AUTHOR_DATE=$GIT_AUTHOR_DATE
OLD_COMMITTER_DATE=$GIT_COMMITTER_DATE

# Add 3 months to each date
NEW_AUTHOR_DATE=$(date -d "$GIT_AUTHOR_DATE + 3 months" --iso-8601=seconds)
NEW_COMMITTER_DATE=$(date -d "$GIT_COMMITTER_DATE + 3 months" --iso-8601=seconds)

export GIT_AUTHOR_DATE="$NEW_AUTHOR_DATE"
export GIT_COMMITTER_DATE="$NEW_COMMITTER_DATE"
' -- --all

# Force push the changes
git push --force --tags origin refs/heads/MennaEdit
